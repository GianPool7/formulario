<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Reclamo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="libro.css">
    <link href="https://fonts.cdnfonts.com/css/clan-pro" rel="stylesheet">
</head>

<body>

    <div>
        <nav>
            <a href="index.html">Inicio</a>
            <a href="reclamos.html">Reclamos</a>
            <a href="libro.html">Libro de reclamaciones</a>
        </nav>
    </div>

    <div>

        <div class="cajas">
            <div class="caja" id="indecopi">
                <div class="titulo">
                    <h3>INDECOPI</h3>
                </div>
                <div class="contenedor">
                    <span>
                        Instituto Nacional de Defensa de la
                        Competencia y de la Protección de la
                        Propiedad Intelectual, relacionado a quejas o
                        reclamos.
                    </span>
                    <div>
                        <p>Reclamo:</p>
                        <span>
                            Disconformidad respecto a los productos o servicios comercializados por la Empresa Operadora.
                        </span>
                    </div>
                    <div>
                        <p>Queja:</p>
                        <span>
                            Disconformidad, molestia o descontento respecto a la calidad de la atención recibida por parte de la Empresa Operadora.
                        </span>
                    </div>
                </div>
            </div>

            <div class="caja" id="reclamos">
                <div class="titulo">
                    <h3>OSIPTEL</h3>
                </div>
                <div class="contenedor">
                    <span>
                        Organismo Supervisor de Inversión Privada
                        en Telecomunicaciones, relacionado
                        solamente al servicio de internet.
                    </span>
                    <li>Facturación y Cobro</li>
                    <li>Calidad e idoneidad en la prestación del Servicio</li>
                    <li>Incumplimiento de Condiciones Contractuales</li>
                    <li>Falta de Servicio</li>
                    <li>Instalación, activación o traslado del servicio</li>
                    <li>Falta de ejecución de baja o suspensión del servicio.</li>
                    <li>Contratación no solicitada</li>
                    <li>Migración</li>
                    <li>Otras Materias Reclamables</li>
                </div>
            </div>
        </div>

        <div class="contenedor-preguntas" id="preguntas">

            <form action="" id="">

                <div class="caja-preguntas">

                    <div class="contendor-cajas">

                        <div class="preguntasolas">
                            <h2>Datos del consumidor</h2>
                            <hr>
                        </div>

                        <div class="preguntitas">
                            <div>
                                <label for="tipodocumento">Tipo de documento de identidad <span>*</span> </label>
                                <select name="tipodocumento" id="tipodocumento" required>
                                    <option value="" class="opcion-seleccionada">Selecciona un tipo de documento</option>
                                    <option value="DNI">Documento de Identidad (DNI)</option>
                                    <option value="RUC">Registro Único de Contribuyentes (RUC)</option>
                                    <option value="Pasaporte">Pasaporte</option>
                                    <option value="CE">Carnet de Extranjería(CE)</option>
                                </select>
                            </div>

                            <div>
                                <label for="numerodocumento">N° del documento de identidad <span>*</span> </label>
                                <input type="text" name="numerodocumento" id="numerodocumento" placeholder="Numero de identificacion *" required>
                            </div>
                        </div>

                        <div class="preguntitas">
                            <div>
                                <label for="">Nombres completos <span>*</span> </label>
                                <input type="text" name="" id="" placeholder="Nombres completos *" required>
                            </div>

                            <div>
                                <label for="">Apellidos completos <span>*</span> </label>
                                <input type="text" name="" id="" placeholder="Apellidos completos *" required>
                            </div>
                        </div>

                        <div class="preguntitas">
                            <div>
                                <label for="menorEdad">Menor de edad <span>*</span> </label>
                                <select name="menorEdad" id="menorEdad">
                                    <option value="" class="opcion-seleccionada">Seleccionar Opción</option>
                                    <option value="Si">Si</option>
                                    <option value="No">No</option>
                                </select>
                            </div>

                            <div>
                                <label for="departamento">Departamento <span>*</span></label>
                                <select name="departamento" id="departamento">
                                    <option value="Lima" class="opcion-seleccionada" selected>Lima</option>
                                </select>
                            </div>
                        </div>

                        <div class="preguntitas">
                            <div>
                                <label for="provincias">Provincias<span>*</span> </label>
                                <select name="provincias" id="provincias">
                                    <option value="">Seleccionar Opción</option>
                                    <option value="128">Lima</option>
                                    <option value="134">Huarochiri</option>
                                    <option value="67">Callao</option>
                                </select>
                            </div>

                            <div>
                                <label for="distritos">Distritos <span>*</span></label>
                                <select name="distritos" id="distritos" onchange="">
                                    <option value="">Seleccionar Opción</option>
                                    <!-- <option value="Ate">Ate</option>
                                    <option value="Ancón">Ancón</option>
                                    <option value="Carabayllo">Carabayllo</option>
                                    <option value="Chaclacayo">Chaclacayo</option>
                                    <option value="Comas">Comas</option>
                                    <option value="El Agustino">El Agustino</option>
                                    <option value="Independencia">Independencia</option>
                                    <option value="La Victoria">La Victoria</option>
                                    <option value="Los Olivos">Los Olivos</option>
                                    <option value="Puente Piedra">Puente Piedra</option>
                                    <option value="Rimac">Rimac</option>
                                    <option value="San Juan de Lurigancho">San Juan de Lurigancho</option>
                                    <option value="San Martín de Porres">San Martín de Porres</option>
                                    <option value="Santa Rosa">Santa Rosa</option> -->
                                </select>
                            </div>
                        </div>

                        <div class="preguntitas">
                            <div>
                                <label for="">Direccion de correo electronico <span>*</span> </label>
                                <input type="text" name="" id="correo" required>
                            </div>
                            <div>
                                <label for="">Contacto de referencia (movil o fijo) <span>*</span> </label>
                                <input type="text" name="" id="" required>
                            </div>
                        </div>

                        <div class="preguntasolas">
                            <div>
                                <label for="">Dirección <span>*</span> </label>
                                <input type="text" name="" id="direccion" required>
                            </div>
                        </div>

                        <div class="preguntasmenor" id="menor">

                            <div class="preguntasolas">
                                <div>
                                    <label for="">Nombre del Papá o Mamá <span>*</span> </label>
                                    <input type="text" name="" id="" required>
                                </div>
                            </div>

                            <!-- <div class="preguntitas">
                                
                                <div>
                                    <label for="">Departamento <span>*</span></label>
                                    <select name="" id="">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="Si">Si</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>

                                <div>
                                    <label for="">Provincias<span>*</span> </label>
                                    <select name="" id="">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="Si">Si</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>

                            </div>

                            <div class="preguntasolas">
                                <div>
                                    <label for="">Distritos <span>*</span></label>
                                    <select name="distritos" id="distritos" onchange="">
                                        <option value="">Seleccionar Opción</option>
                                        <option value="Ate">Ate</option>
                                        <option value="Ancón">Ancón</option>
                                        <option value="Carabayllo">Carabayllo</option>
                                        <option value="Chaclacayo">Chaclacayo</option>
                                        <option value="Comas">Comas</option>
                                        <option value="El Agustino">El Agustino</option>
                                        <option value="Independencia">Independencia</option>
                                        <option value="La Victoria">La Victoria</option>
                                        <option value="Los Olivos">Los Olivos</option>
                                        <option value="Puente Piedra">Puente Piedra</option>
                                        <option value="Rimac">Rimac</option>
                                        <option value="San Juan de Lurigancho">San Juan de Lurigancho</option>
                                        <option value="San Martín de Porres">San Martín de Porres</option>
                                        <option value="Santa Rosa">Santa Rosa</option>
                                    </select>
                                </div>
                            </div> -->

                            <!-- <div class="preguntitas">
                                <div>
                                    <label for="">Dirección <span>*</span> </label>
                                    <input type="text" name="" id="" required>
                                </div>

                                <div>
                                    <label for="">Contacto de referencia (movil o fijo) <span>*</span> </label>
                                    <input type="text" name="" id="" required>
                                </div>
                            </div> -->
 
                        </div>

                        <div class="siOno">
                            <p>Autorizo ser notificado por el correo electrónico registrado: </p>
                            <div class="radioinputs">
                                <div class="sino">
                                    <input type="radio" name="notificar" id="si" value="si">
                                    <label for="si">Si</label>
                                </div>
                                <div class="sino">
                                    <input type="radio" name="notificar" id="no" value="no">
                                    <label for="no">No</label>
                                </div>
                            </div>
                        </div>

                        <div class="contenedor-notifiacion">
                            <div class="notificaciones" id="msj">
                                <p id="txtrespuesta"></p>
                                <span id="txtcorreo">correodeejemplo@hotmail.com</span>
                            </div>
                        </div>

                    </div>

                </div>
                
                <div>

                    <div class="opciones">
                        <div class="caja" id="reclamo">
                            <div class="titulo">
                                <h2>Reclamo</h2>
                            </div>
                            <div class="contenedor">
                                <span>Disconformidad relacionada con los productos o servicios prestados comercializados por la Empresa Operadora.</span>
                            </div>
                        </div>
                        <div class="caja" id="queja">
                            <div class="titulo">
                                <h2>Queja</h2>
                            </div>
                            <div class="contenedor">
                                <span>Disconformidad, molestia o descontento en referencia a la calidad de la atención brindada al consumidor, por parte de la Empresa Operadora.</span>
                            </div>
                        </div>
                    </div>


                    <div class="contendor-cajas">
                        <div class="preguntas-reclamos" id="contenedorpreguntasreclamos">

                            <div class="preguntasolas">
                                <div>
                                    <label for="materiareclamo">Materia de Reclamo <span>*</span></label>
                                    <select name="materiareclamo" id="materiareclamo">
                                        <option value="">Seleccionar reclamo</option>
                                        <option value="1">Problemas con mi router/Modem</option>
                                        <option value="2">Problemas con mi repetidor</option>
                                        <option value="3">otros</option>
                                    </select>
                                </div>

                                <!-- <div class="otroreclamos" id="otrosreclamos">
                                    <label for="">Especificar</label>
                                    <input type="text" required>
                                </div> -->

                            </div>

                            <div class="preguntitas">
                                <div>
                                    <p>Identificación del Producto o Servicio adquirido <span>*</span></p>
                                    <input type="text" required>
                                </div>
                                <div>
                                    <p>Monto del producto o servicio adquirido objeto del reclamo <span>*</span></p>
                                    <input type="number">
                                </div>
                            </div>

                            <div class="preguntitas">
                                <div>
                                    <p>Especifique su inconveniente <span>*</span></p>
                                    <input type="text" required>
                                </div>
                                <div>
                                    <p>Pedido concreto del consumidor: <span>*</span></p>
                                    <input type="text" required>
                                </div>
                            </div>

                        </div>

                        <div class="preguntas-queja" id="contenedorpreguntasquejas">

                            <div class="preguntasolas">
                                <div>
                                    <label for="materiaqueja">Materia de Queja <span>*</span></label>
                                    <select name="materiaqueja" id="materiaqueja">
                                        <option value="">Seleccionar reclamo</option>
                                        <option value="4">Problema con la atención por canal presencial.</option>
                                        <option value="5">Problema con la atención por el canal WhatsApp.</option>
                                        <option value="6">Problema con la atención por el canal telefónico.</option>
                                        <option value="7">Problemas con la atención al momento de la instalación.</option>
                                        <option value="8">Problemas con la atención durante la visita técnica.</option>
                                        <option value="3">otros</option>
                                    </select>
                                </div>

                                <!-- <div class="">
                                    <label for="">Especificar</label>
                                    <input type="text" required>
                                </div> -->
                            </div>

                            <div class="preguntitas">
                                    <div>
                                        <p>Especifique su inconveniente <span>*</span></p>
                                        <input type="text" required>
                                    </div>
                                    <div>
                                        <p>Pedido concreto del consumidor <span>*</span></p>
                                        <input type="number">
                                    </div>
                            </div>

                        </div>

                        <div class="btn">
                            <button>Enviar</button>
                        </div>

                    </div>

                </div>
                

            </form>

        </div>

    </div>

    <script>
        // const cuando escojemos
        const indecopi=document.getElementById("indecopi");
        const reclamos = document.getElementById("reclamos");
        const queja=document.getElementById("queja");
        const reclamo=document.getElementById("reclamo");
        const edad=document.getElementById("menorEdad");
        const correo=document.getElementById("correo");
        const txt=document.getElementById("txtrespuesta")
        const direccioncorreo=document.getElementById("txtcorreo")
        const direccion=document.getElementById("direccion")
        const materiareclamo=document.getElementById("materiareclamo")
        const materiaqueja=document.getElementById("materiaqueja")
        // const de las preguntas que estan invisible
        const preguntas=document.getElementById("preguntas");
        const preguntasreclamos=document.getElementById("contenedorpreguntasreclamos")
        const preguntasquejas=document.getElementById("contenedorpreguntasquejas")
        const preguntasmenor=document.getElementById("menor")
        const message=document.getElementById("msj")
        const otrosreclamos=document.getElementById("otrosreclamos")
        // para el radio buttom si

        const radios = document.querySelectorAll('input[name="notificar"]');
        radios.forEach(radio => {
        radio.addEventListener("change", () => {
                if (radio.value === "si" && radio.checked) {
                    message.style.display = "block";
                    txt.textContent=`La respuesta será notificada al siguiente correo electrónico:`
                    direccioncorreo.textContent=`${correo.value}`
                } else if (radio.value === "no" && radio.checked) {
                    message.style.display = "block";
                    txt.textContent=`La respuesta será notificada a la siguiente dirección:`
                    direccioncorreo.textContent=`${direccion.value}`
                }
            });
        });

        //

        if (materiareclamo) {
            materiareclamo.addEventListener("click",()=>{
                if (otrosreclamos.value==="otros") {
                    otrosreclamos.style.display="block";
                }else{
                    otrosreclamos.style.display="none"
                }
            })
            
        }

        if(edad){
            edad.addEventListener("click",()=>{
                if (edad.value === "Si") {
                    preguntasmenor.style.display = "block"; // muestra la caja
                } else {
                    preguntasmenor.style.display = "none"; // oculta la caja
                }
            })
        }

        if (reclamo) {
            reclamo.addEventListener("click",()=>{
                preguntasreclamos.style.display="block";
                preguntasquejas.style.display="none";
            })
        }

        if (queja) {
            queja.addEventListener("click",()=>{
                preguntasquejas.style.display="block";
                preguntasreclamos.style.display="none"
            })
        }

        if (indecopi) {
            indecopi.addEventListener("click",()=>{
                preguntas.style.display = "block";
            })
        }

        if (reclamos) {
            reclamos.addEventListener("click", () => {
            window.open("https://fiberpro.com.pe/reclamos/", "_blank");
            });
        }

        // consumiendos apis 
        const provinciasSelect = document.getElementById("provincias");
        const distritosSelect = document.getElementById("distritos");

        provinciasSelect.addEventListener("change", () => {
            const idCiudad = provinciasSelect.value;

            // Limpiar opciones previas de distritos
            distritosSelect.innerHTML = '<option value="">Seleccionar distrito</option>';

            if (idCiudad) {
                cargarDistritos(idCiudad);
            }
        });

        async function cargarDistritos(idCiudad) {
            try {
                const respuesta = await fetch(`https://app-externos.fiberpro.com.pe/api/get_district/${idCiudad}`);
                const data = await respuesta.json();

                console.log("Datos recibidos:", data);  // <- Añade esto

                distritosSelect.innerHTML = '<option value="">Seleccionar distrito</option>'; // Mueve aquí para limpiar antes de agregar

                data.forEach(item => {
                const option = document.createElement("option");
                option.value = item.code;
                option.textContent = item.name;
                distritosSelect.appendChild(option);
                });
            } catch (error) {
                console.error("Error al cargar distritos:", error);
            }
        }

        // para enviar ala api

        const tipodocumento=document.getElementById('tipodocumento').value.trim();
        const numerodocumento=document.getElementById('numerodocumento').value.trim();
        const nombrescompletos=document.getElementById('').value.trim();
        const apellidoscompletos=document.getElementById('').value.trim();

        const menorEdad=document.getElementById('').value.trim()
        const departamento=document.getElementById('').value.trim()
        const provincias=document.getElementById('').value.trim()
        const distrito=document.getElementById('').value.trim()

        const correoelectronico=document.getElementById('').value.trim()
        const movil=document.getElementById('').value.trim()
        const direccioncasa=document.getElementById('').value.trim()

        const autorizacion=document.getElementById('').value.trim()


    </script>

</body>

</html>